---
title: Errors & Limits
description: Understand cs2.sh API rate limits, error response codes, and retry strategies. Includes HTTP status codes and rate limit headers.
---

## Error Responses

All API errors follow a consistent JSON format:

```json title="Error Format"
{
  "error": "error_code",
  "message": "human-readable description",
  "request_id": "550e8400-e29b-41d4-a716-446655440000"
}
```

Some errors include additional context in a `details` object.

### Status Codes

| Code | Error | Description |
|------|-------|-------------|
| 400 | `bad_request` | Invalid request parameters (POST endpoints) |
| 401 | `unauthorized` | Missing or invalid API key |
| 403 | `quota_exceeded` | Monthly request quota exceeded |
| 404 | `not_found` | Item not found |
| 429 | `rate_limited` | Too many requests (see [Rate Limits](#rate-limits) below) |
| 503 | `service_unavailable` | Service temporarily unavailable |
| 504 | `timeout` | Request timeout |

### Item-Level Errors

POST endpoints that accept multiple items return item-level errors in the `errors` array alongside successful results:

```json title="Item-Level Error"
{
  "errors": [
    {
      "item": "Invalid Item Name",
      "code": "unknown_item",
      "message": "item not found"
    }
  ]
}
```

---

## Rate Limits

<Callout type="warn" title="Rate Limit">
  Requests are limited to **100 per second** per user. This is temporary to
  stress-test the API and will be reduced in the future.
</Callout>

### 429 Response

```json title="429 Response"
{
  "error": "rate_limited",
  "message": "rate limited",
  "request_id": "550e8400-e29b-41d4-a716-446655440000",
  "details": {
    "limited_by": "user",
    "retry_after_seconds": 1
  }
}
```

<Callout type="info" title="Retry-After Header">
  The `Retry-After` HTTP header is also set with the number of seconds to wait.
</Callout>

## Batch Requests

Use POST to fetch multiple items in one request (up to 100 items):

<Tabs items={["Python", "Node.js", "Go", "cURL"]} groupId="request-language" persist updateAnchor>
  <Tab value="Python">

```python title="Python"
# [!code word:YOUR_API_KEY]
import requests

payload = {
    "items": [
        "AK-47 | Redline (Field-Tested)",
        "★ Karambit | Doppler (Factory New)",
    ]
}

response = requests.post(
    "https://api.cs2.sh/v1/prices/latest",  # [!code highlight]
    headers={
        "Authorization": "Bearer YOUR_API_KEY",  # [!code highlight]
        "Accept-Encoding": "gzip",
        "Content-Type": "application/json",
    },
    json=payload,
    timeout=30,
)

response.raise_for_status()
print(response.json())
```

  </Tab>
  <Tab value="Node.js">

```js title="Node.js"
// [!code word:YOUR_API_KEY]
async function main() {
  const payload = {
    items: [
      "AK-47 | Redline (Field-Tested)",
      "★ Karambit | Doppler (Factory New)",
    ],
  };

  const response = await fetch("https://api.cs2.sh/v1/prices/latest", { // [!code highlight]
    method: "POST",
    headers: {
      Authorization: "Bearer YOUR_API_KEY", // [!code highlight]
      "Accept-Encoding": "gzip",
      "Content-Type": "application/json",
    },
    body: JSON.stringify(payload),
  });

  if (!response.ok) {
    throw new Error(
      `Request failed: ${response.status} ${response.statusText}`,
    );
  }

  const data = await response.json();
  console.log(data);
}

main().catch(console.error);
```

  </Tab>
  <Tab value="Go">

```go title="Go"
// [!code word:YOUR_API_KEY]
package main

import (
	"fmt"
	"io"
	"net/http"
	"strings"
	"time"
)

func main() {
	payload := `{"items":["AK-47 | Redline (Field-Tested)","★ Karambit | Doppler (Factory New)"]}`

	req, err := http.NewRequest(
		http.MethodPost,
		"https://api.cs2.sh/v1/prices/latest", // [!code highlight]
		strings.NewReader(payload),
	)
	if err != nil {
		panic(err)
	}

	req.Header.Set("Authorization", "Bearer YOUR_API_KEY") // [!code highlight]
	req.Header.Set("Accept-Encoding", "gzip")
	req.Header.Set("Content-Type", "application/json")

	client := &http.Client{Timeout: 30 * time.Second}
	resp, err := client.Do(req)
	if err != nil {
		panic(err)
	}
	defer resp.Body.Close()

	body, err := io.ReadAll(resp.Body)
	if err != nil {
		panic(err)
	}

	fmt.Println(string(body))
}
```

  </Tab>
  <Tab value="cURL">

```bash title="cURL"
# [!code word:YOUR_API_KEY]
curl -X POST "https://api.cs2.sh/v1/prices/latest" \ # [!code highlight]
  -H "Authorization: Bearer YOUR_API_KEY" \ # [!code highlight]
  -H "Accept-Encoding: gzip" \
  -H "Content-Type: application/json" \
  -d '{"items":["AK-47 | Redline (Field-Tested)","★ Karambit | Doppler (Factory New)"]}'
```

  </Tab>
</Tabs>

---

<Cards>
  <Card href="/docs/authentication" title="Authentication">
    API key setup and required headers
  </Card>
  <Card href="/docs/pricing" title="Plans">
    Plan comparison and endpoint access
  </Card>
</Cards>
